html
    head
        link(rel='stylesheet', href='/stylesheets/index.css')
        link(rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css")
        link( rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css")
        script(type="text/javascript", src="js/jquery-3.2.1.js")
        script(type="text/javascript", src="./js/index.js")
        script(type="text/javascript", src="./js/newUser.js")
    body
        include ./fixed/header.pug

        section.first#main
            //img(src="./images/frontpicture1.jpg", alt="Frontbilde")
            button.newUserBtn#newBtn(type="button" style='vertical-align:middle')
                span Bli Medlem

            #modalNew.modalNew
                .modal-contentNew
                    .h1NewUser
                        h1 Bli Medlem
                    .containerNew
                        a.closeBtn#closeNew &times
                        form
                            div
                                input(type = "text" id = "fname" name='fname' required pattern="^[A-Za-z -]+$" title="Fornavn kan ikke inneholde tall" placeholder="Fornavn:")

                            div
                                input(type = "text" id = "sname" name='sname' required pattern="[A-Za-z]+[a-zA-Z]" title="Etternavn kan ikke inneholde tall" placeholder="Etternavn:")

                            div
                                input(type = "text" id = "phone" name='phone' required pattern="[0-9].{7,}" title="Telefonnummer må bestå av minst 8 tall" placeholder="Telefonnummer:")

                            div
                                input(type = "email" id = "email" name='email' required pattern="[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+[A-Za-z]{1,63}$" title="Ugyldig E-postadresse" placeholder="E-postadresse:")

                            div
                                input(type = "text" id = "address" name='address' required pattern="[A-Za-z]+[a-zA-Z]+?=.*?[0-9]" title="Adresse må bestå av minst ett tall" placeholder="Adresse:")

                            div
                                input(type = "password" id = "password" name='password' required pattern=".{8,}" title="Passord må inneholde minst 8 tegn" placeholder="Passord:")

                            button.registerBtn(onclick="newMember()", type = "submit", value="submit", style="vertical-align:middle")
                                span Registrer

            a.scroll-down1(href='#second', address='true')

        section.second#groupclasses
            .containerClasses
                h1.classesHeader Våre gruppetimer
                    p.intensitySlider Velg intensitet
                        input(type="range", min="1", max="3", value="1", id="myRange", class="slider")
                        brp.intensityLevel Nivå <em> </em>
                            span#demo
                    #slidecontainer
                        table
                        .class-container#timer
                            pre#allClasses
            a.scroll-down2(href='#gyms', address='true')

        section.third#gyms
            .h1SectionThree
                h1 Vår treningsfilosofi
            .gymInfo
                pre Lorem ipsum dolor sit amet,
                    |consectetuer adipiscing elit.
                    |Aenean commodo ligula eget dolor. Aenean massa.
                    |Cum sociis natoque penatibus et magnis dis parturient
                    |montes, nascetur ridiculus mus. Donec quam felis,
                    |ultricies nec, pellentesque eu, pretium quis, sem.
                    |Nulla consequat massa quis enim. Donec pede justo,
                    |fringilla vel, aliquet nec, vulputate eget, arcu.
                    |In enim justo, rhoncus ut, imperdiet a, venenatis
                    |vitae, justo. Nullam dictum felis eu pede mollis pretium.
                    |Integer tincidunt. Cras dapibus. Vivamus elementum
                    |semper nisi. Aenean vulputate eleifend tellus. Aenean leo
                    |ligula, porttitor eu, consequat vitae, eleifend ac, enim.

            .gymMap
                img.map(src="./images/kart.png", alt="Kart over Trondheim")
                i(id="gym1Btn" class="fa fa-map-marker" style='font-size:50px')
                i(id="gym2Btn" class="fa fa-map-marker" style='font-size:50px')
            #modalGym1.modalGym1
                .modal-contentGym
                    a.closeBtnGym#closeGym1 &times
                    h3 ATLETA MIDTBYEN
                    img.gym1(src="./images/gym1.jpg", alt="Bilde av treningssenteret", style="width:100%")
                    p Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor.
                    p Aenean massa. Cum sociis natoque penatibus et magnis dis parturient
                    p montes, nascetur ridiculus mus.

            #modalGym2.modalGym2
                .modal-contentGym
                    a.closeBtnGym#closeGym2 &times
                    h3 ATLETA ILSVIKA
                    img.gym1(src="./images/gym1.jpg", alt="Bilde av treningssenteret", style="width:100%")
                    p Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor.
                    p Aenean massa. Cum sociis natoque penatibus et magnis dis parturient
                    p montes, nascetur ridiculus mus.

            a.scroll-down3(href='#information', address='true')

        section.fourth#information
            .infoPrice
                .h1sectionFour
                    h1 Priser
                .prices
                    h3 Ordinært medslemskap
                        p 349,- per måned

                    h3 Studentmedlemskap
                        p 249,- per måned

                    h3 Ungdomsmedemskap
                        p 199,- per måned

                    h3 Offshoremedlemskap
                        p 249,- per måned

                    h3 Drop-in
                        p 75,- for en dag

            a.scroll-down4(href='#PTinformation', address='true')

        section.fifth#PTinformation
            h1 Hva er en PT?
            img.backgroundPT(src="./images/background5.jpg", alt="Bakgrunnsbilde")
            .aboutPT
                pre Lorem ipsum dolor sit amet,
                    | consectetuer adipiscing elit.
                    | Aenean commodo ligula eget dolor. Aenean massa.
                    | Cum sociis natoque penatibus et magnis dis parturient
                    | montes, nascetur ridiculus mus. Donec quam felis,
                    | ultricies nec, pellentesque eu, pretium quis, sem.
                    | Nulla consequat massa quis enim. Donec pede justo,
                    | fringilla vel, aliquet nec, vulputate eget, arcu.
                    | In enim justo, rhoncus ut, imperdiet a, venenatis
                    | vitae, justo. Nullam dictum felis eu pede mollis pretium.
                    | Integer tincidunt. Cras dapibus. Vivamus elementum
                    | semper nisi. Aenean vulputate eleifend tellus. Aenean leo
                    | ligula, porttitor eu, consequat vitae, eleifend ac, enim.
            .containerTrainers1
                .containerPT1
                    img.avatarman1(src="./images/avatarman.png", alt="Mann")
                    h4.namePT1 Ola Nordmann
                    .contactInfo1
                        div.pinIcon1
                            i.pinIcon1(class="fa fa-map-marker" style='font-size:15px')  Atleta Midtbyen
                        div.mailAddress1
                            i.mailIcon1(class="fa fa-envelope-o" style='font-size:15px')  ola_nordmann@atleta.no
                    i.moreIcon1(class="fa fa-ellipsis-v" style='font-size:20px')
                    .descriptionPT1
                        .textPT1 Ola Nordmann
                            br
                            | Lorem ipsum dolor sit amet,
                            br
                            | consectetuer adipiscing elit.

            .containerTrainers2
                .containerPT2
                    img.avatarman2(src="./images/avatarman.png", alt="Mann")
                    h4.namePT2 Knut Knutsen
                    .contactInfo2
                        div.pinIcon2
                            i.pinIcon2(class="fa fa-map-marker" style='font-size:15px')  Atleta Ila
                        div.mailAddress2
                            i.mailIcon2(class="fa fa-envelope-o" style='font-size:15px')  knut_knutsen@atleta.no
                    i.moreIcon2(class="fa fa-ellipsis-v" style='font-size:20px')
                    .descriptionPT2
                        .textPT2 Knut Knutsen
                            br
                            | Lorem ipsum dolor sit amet,
                            br
                            | consectetuer adipiscing elit.

            .containerTrainers3
                .containerPT3
                    img.avatarman3(src="./images/avatarwoman.png", alt="Mann")
                    h4.namePT3 Kari Åsen
                    .contactInfo3
                        div.pinIcon3
                            i.pinIcon3(class="fa fa-map-marker" style='font-size:15px')  Atleta Midtbyen
                        div.mailAddress3
                            i.mailIcon3(class="fa fa-envelope-o" style='font-size:15px')  ola_nordmann@atleta.no
                    i.moreIcon3(class="fa fa-ellipsis-v" style='font-size:20px')
                    .descriptionPT3
                        .textPT3 Kari Åsen
                            br
                            | Lorem ipsum dolor sit amet,
                            br
                            | consectetuer adipiscing elit.

            .containerTrainers4
                .containerPT4
                    img.avatarman4(src="./images/avatarwoman.png", alt="Mann")
                    h4.namePT4 Nora Dalen
                    .contactInfo4
                        div.pinIcon4
                            i.pinIcon4(class="fa fa-map-marker" style='font-size:15px')  Atleta Ila
                        div.mailAddress4
                            i.mailIcon4(class="fa fa-envelope-o" style='font-size:15px')  knut_knutsen@atleta.no
                    i.moreIcon4(class="fa fa-ellipsis-v" style='font-size:20px')
                    .descriptionPT4
                        .textPT4 Nora Dalen
                            br
                            | Lorem ipsum dolor sit amet,
                            br
                            | consectetuer adipiscing elit.

            a.scroll-down5(href='#sixth', address='true')

        script.
            var modal1 = document.getElementById("modalGym1");
            var modal2 = document.getElementById("modalGym2");

            var iconBtn1 = document.getElementById("gym1Btn");
            var iconBtn2 = document.getElementById("gym2Btn");

            var newUserBtn = document.getElementById("newBtn");
            var newUserPop = document.getElementById("modalNew");

            var closeBtn1 = document.getElementById("closeNew");
            var closeBtn2 = document.getElementById("closeGym1");
            var closeBtn3 = document.getElementById("closeGym2");

            //Åpner modal 1
            iconBtn1.onclick = function() {
                modal1.style.display = "block";
            };

            //Åpner modal 2
            iconBtn2.onclick = function() {
                modal2.style.display = "block";
            };

            //Lukker når klikker utenfor
            window.onclick = function (event) {
                if(event.target == modal1 || event.target == modal2 || event.target == newUserPop) {
                    modal1.style.display = "none";
                    modal2.style.display = "none";
                    newUserPop.style.display = "none";
                }
            };

            // åpner bli medlem
            newUserBtn.onclick = function () {
                newUserPop.style.display = "block";
            }

            // Lukker popup ved å trykke på x
            closeBtn1.onclick = function () {
                newUserPop.style.display = "none";
            }

            closeBtn2.onclick = function () {
                modal1.style.display = "none";
            }

            closeBtn3.onclick = function () {
                modal2.style.display = "none";
            }

            // Slider
            var slider = document.getElementById("myRange");
            var output = document.getElementById("demo");
            output.innerHTML = slider.value;

            var startLevel = slider.value;
            var info;

            var getLevel = function (level) {
                $.ajax({
                    url: 'classes/' + level,
                    type: 'GET'
                }).done(function (data) {
                    info = data;
                    document.getElementById("allClasses").innerHTML = '';
                    for (var i = 0; i < data.length; i++) {
                        document.getElementById("allClasses").innerHTML += '<ul id="' + i + '" class="thisClass">'
                            + JSON.stringify(data[i].class_name).replace(/\"/g, "") + '</ul>';

                    }
                    buttons = document.getElementsByClassName("thisClass");
                    for (var i = 0; i < buttons.length; i++) {
                        buttons[i].addEventListener("click", redirect, false);
                    }
                });

            };

            slider.oninput = function () {
                output.innerHTML = this.value;
                var level = this.value;
                getLevel(level);
            }

            getLevel(startLevel);


            function redirect(ev) {
                console.log("redirect");
                var index = ev.target.id;
                ev.target.innerHTML = info[index].information;
            }


    footer
        include ./fixed/footer.pug
