CREATE TABLE classes(
	class_id VARCHAR(50),
	class_name VARCHAR(50),
	level VARCHAR(3),
	information VARCHAR(500),
	PRIMARY KEY(c_id)
);

CREATE TABLE intensity(
	level VARCHAR(3),
	PRIMARY KEY(level)
);

CREATE TABLE booking(
	b_id VARCHAR(50),
	b_name VARCHAR(50),
    time DATETIME,
    class_id VARCHAR(50),
    booked TINYINT(1),
	PRIMARY KEY(b_id)
);

CREATE TABLE users(
	email VARCHAR(50),
	password VARCHAR(50),
    fname VARCHAR(50),
    sname VARCHAR(50),
    address VARCHAR(50),
    phone  VARCHAR(50),
	PRIMARY KEY(email)
);

CREATE TABLE users_booking(
    b_id VARCHAR(50) NOT NULL,
    email VARCHAR (50) NOT NULL,
    PRIMARY KEY (b_id, email));

    ALTER TABLE users_booking
    ADD FOREIGN KEY (b_id)
    REFERENCES booking(b_id);

    ALTER TABLE users_booking
    ADD FOREIGN KEY (email)
    REFERENCES users(email);

ALTER TABLE booking
ADD FOREIGN KEY (class_id)
REFERENCES classes(class_id);

ALTER TABLE classes
ADD FOREIGN KEY (level)
REFERENCES intensity(level);


